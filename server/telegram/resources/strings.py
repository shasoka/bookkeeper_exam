from typing import Final

from aiogram import html

from database.models import UserSession

SUCCESS_STATUSES: Final[list[str]] = [
    "–ö—Ä–∞—Å–∞–≤–∞",
    "–ú–æ–ª–æ–¥–µ—Ü",
    "–•–æ—Ä–æ—à–æ",
    "–ù–æ—Ä–º–∞–ª–¥–∞–∫–∏",
    "–í—ã –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã, —É–≤–∞–∂–∞–µ–º—ã–π",
    "–í—Å–µ –∫–∞–∫ —É –ª—é–¥–µ–π",
    "–û—Ç–ª–∏—á–Ω–æ —Å–ø—Ä–∞–≤–ª—è–µ—à—å—Å—è",
    "–ü–æ—Ç—Ä—è—Å–∞—é—â–µ",
    "–¢–∞–∫ –¥–µ—Ä–∂–∞—Ç—å!",
    "–ü–æ–±–µ–¥–∞!",
    "–°—É–ø–µ—Ä!",
    "–ú–∞—Å—Ç–µ—Ä—Å–∫–∏!",
    "–ù–µ–≤–µ—Ä–æ—è—Ç–Ω–æ!",
    "–í–µ–ª–∏–∫–æ–ª–µ–ø–Ω–æ!",
    "–í–æ—Å—Ö–∏—Ç–∏—Ç–µ–ª—å–Ω–æ!",
    "–ù–∞–ª–∏–≤–∞–π! –ù–ê–õ–ò–í–ê–ô!!!",
    "5 –±–∞–ª–ª–æ–≤ –≤ –¥–∏–ø–ª–æ–º",
    "–ì—Ä–∞–Ω–¥–∏–æ–∑–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç",
]

FAIL_STATUSES: Final[list[str]] = [
    "–£—á–∏—Å—å —Å–∞–ª–∞–≥–∞...",
    "–ü–ª–∞–∫–∏-–ø–ª–∞–∫–∏)",
    "–¢—ã —á–µ? –°–æ–±–µ—Ä–∏—Å—å, —Ç—É—Ç –∂–µ –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–æ",
    "–ú–¥–∞, —Ç—Ä—ç—à.",
    "–ó–∞—Ç—Ä–æ–ª–µ–Ω. –®–∫–æ–ª—å–Ω–∏–∫.",
    "–Ø –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª –≤–∞—à –æ—Ç–≤–µ—Ç. –í–∞–º —Å–ª–µ–¥—É–µ—Ç –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –∫—É—Ö–Ω—é.",
    "–ë—ã–ª–æ –±–ª–∏–∑–∫–æ",
    "–ù–∞–≤–æ–¥—á–∏–∫ –∫–æ–Ω—Ç—É–∂–µ–Ω",
    "–ë—Ä–æ–Ω—è –Ω–µ –ø—Ä–æ–±–∏—Ç–∞",
    "–û—Å–µ—á–∫–∞",
    "–ò–≥—Ä–∞ –±—ã–ª–∞ —Ä–æ–≤–Ω–∞, –∏–≥—Ä–∞–ª–∏ –¥–≤–∞ –≥–æ–≤–Ω–∞...",
    "–®—Ç–∏—Ä–ª–∏—Ü –µ—â–µ –Ω–∏–∫–æ–≥–¥–∞ –ø—Ä–µ–∂–¥–µ –Ω–µ –±—ã–ª —Ç–∞–∫ –±–ª–∏–∑–æ–∫ –∫ —É—Å–ø–µ—Ö—É...",
    "–ù—É, –ø–æ–ø—ã—Ç–∫–∞ –∑–∞—Å—á–∏—Ç–∞–Ω–∞",
    "–≠—Ç–æ 2 –±–∞–ª–ª–∞ –≤ –¥–∏–ø–ª–æ–º. –ñ–µ–ª–µ–∑–æ–±–µ—Ç–æ–Ω–Ω–æ.",
]

SUCCESS_EFFECT_IDS: Final[list[str]] = [
    "5104841245755180586",  # üî•
    "5107584321108051014",  # üëç
    "5044134455711629726",  # ‚ù§Ô∏è
    "5046509860389126442",  # üéâ
]

FAIL_EFFECT_IDS: Final[list[str]] = [
    "5104858069142078462",  # üëé
    "5046589136895476101",  # üí©
]


# --- #


RESTART_COMMAND: Final[str] = "restart"
HEAL_COMMAND: Final[str] = "heal"


# --- #


NOT_AUTHORIZED = (
    "–ü–ª–∞–∫–∏-–ø–ª–∞–∫–∏? üò≠\n"
    "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–æ–ª—å–∫–æ —Ö–ª–µ–± –≤ –º—ã—à–µ–ª–æ–≤–∫–µ, –±—Ä–∞—Ç—É—Ö–∞\n"
    "–ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø, –ø–∏—à–∏ —Å—é–¥–∞ ‚û°Ô∏è @shasoka"
)
PET_ME: Final[str] = "ü´≥üêï"
SECTIONS_FROM_START: Final[str] = "–¢–∞–∫ —É–∂ –∏ –±—ã—Ç—å! –í—ã–±–∏—Ä–∞–π! üê∂‚ù§Ô∏è‚Äçüî•"
SECTIONS_FROM_RESTART: Final[str] = "–ê —Ç—ã —Ö–∏—Ç–µ—Ä. –ú–æ–∂–µ—à—å –Ω–µ –≥–ª–∞–¥–∏—Ç—å, –≤—ã–±–∏—Ä–∞–π —Ä–∞–∑–¥–µ–ª ü´°"
FORWARD = "‚û°Ô∏è"
BACK = "‚¨ÖÔ∏è"
BACK_TO_SECTIONS = "‚óÄÔ∏è –ö —Ä–∞–∑–¥–µ–ª–∞–º"
BACK_TO_THEMES = "‚óÄÔ∏è –ö —Ç–µ–º–∞–º"
MARK_THEME = "üü¢ –ü–æ–º–µ—Ç–∏—Ç—å —Ç–µ–º—É"
LETS_GO = "‚ñ∂Ô∏è –ù–∞—á–∞—Ç—å —Å –ø–µ—Ä–≤–æ–≥–æ ‚ñ∂Ô∏è"
LETS_SHUFFLE = "üîÄ –ù–∞—á–∞—Ç—å –≤–ø–µ—Ä–µ–º–µ—à–∫—É üîÄ"
HINT = "–ü–æ–¥—Å–∫–∞–∑–∞—Ç—å?.. ü§´"
NO_MORE_HINTS = "–î–∞–ª—å—à–µ —Å–∞–º üò∂"
SOMETHING_WENT_WRONG = (
    "ü´† –ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫.\nüî¥ –í–µ—Ä–æ—è—Ç–Ω–æ, —É —Ç–µ–±—è –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏."
)
HEAL_ALERT = "‚ö†Ô∏è\n–ï—Å–ª–∏ –°–∞–π–º–æ–Ω –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–≤–æ–π –æ—Ç–≤–µ—Ç, –∏–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ—á–∏–µ –æ—à–∏–±–∫–∏ - –ø–æ–ø—Ä–æ–±—É–π –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–æ–º–∞–Ω–¥–æ–π /heal, —á—Ç–æ–±—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–ª–æ–º–∞–Ω–Ω—É—é —Å–µ—Å—Å–∏—é, –∏–ª–∏ /restart, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é"


# --- #


def on_start_msg(full_name: str) -> str:
    return f"""–ü—Ä–∏–≤–µ—Ç üëã, {html.bold(full_name)}!
        \n–ú–µ–Ω—è –∑–æ–≤—É—Ç {html.bold('–°–∞–π–º–æ–Ω')} –∏ —è ... {html.spoiler(html.italic('–∫–æ—Å–æ–≥–ª–∞–∑—ã–π üëÄ'))}, –Ω–æ —ç—Ç–æ –Ω–µ –ø–æ–º–µ—à–∞–µ—Ç –º–Ω–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –ø–æ –±—É—Ö—É—á–µ—Ç—É.
        \n‚òëÔ∏è –Ø –ø—Ä–∏–≥–æ—Ç–æ–≤–∏–ª –¥–ª—è —Ç–µ–±—è {html.code('1061')} {html.bold('—Ç–µ—Å—Ç–æ–≤–æ–µ')} –∑–∞–¥–∞–Ω–∏–µ (—É –º–µ–Ω—è {html.bold('–Ω–µ—Ç')} –∑–∞–¥–∞–Ω–∏–π —Å —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –ø–æ—Ä—è–¥–∫–∞ –∏–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å–∏–≤–∏—è, –∞ —Ç–∞–∫–∂–µ –≤—Å—Ç–∞–≤–∫–æ–π —Å–ª–æ–≤), –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑–±–∏—Ç—ã –Ω–∞ {html.code('31')} —Ç–µ–º—É –∏ {html.code('3')} —Ä–∞–∑–¥–µ–ª–∞:
        \n1. {html.bold('–¢–µ–æ—Ä–∏—è –±—É—Ö—É—á–µ—Ç–∞')}\n2. {html.bold('–ë—É—Ö–≥–∞–ª—Ç–µ—Ä—Å–∫–∏–π (—Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–π) —É—á–µ—Ç')}\n3. {html.bold('–§–ó "–û –±—É—Ö–≥–∞–ª—Ç–µ—Ä—Å–æ–º —É—á–µ—Ç–µ", –ü–ë–£')}
        \n–Ø —É–º–µ—é –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ç–≤–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ç–µ–º—ã, —á—Ç–æ–±—ã –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ —Ç—ã –º–æ–≥ –ø—Ä–æ—Ä–µ—à–∞—Ç—å –∑–∞–Ω–æ–≤–æ —Ç–µ –≤–æ–ø—Ä–æ—Å—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö –æ–±–ª–∞–∂–∞–ª—Å—è.
        \n–†–∞–¥–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —É–¥–æ–±—Å—Ç–≤–∞ —Ç—ã –º–æ–∂–µ—à—å –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞—Ç—å —á–∞—Ç —Å–æ –º–Ω–æ–π. –°–∞–º —è —ç—Ç–æ–≥–æ –¥–µ–ª–∞—Ç—å –Ω–µ —É–º–µ—é, —É–≤—ã... –°—Ä–µ–¥—Å—Ç–≤–∞, –∫–æ—Ç–æ—Ä—ã–º–∏ —è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω, –Ω–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –º–Ω–µ –æ—á–∏—â–∞—Ç—å —á–∞—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é. –ù–æ –ø–æ–¥ –∫–∞–∂–¥—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º, –∫–æ—Ç–æ—Ä–æ–µ —è –Ω–µ —Å—É–º–µ—é —É–¥–∞–ª–∏—Ç—å —Å–∞–º –±—É–¥–µ—Ç –∫–Ω–æ–ø–∫–∞ - üóë - –¥–ª—è –µ–≥–æ –±—ã—Å—Ç—Ä–æ–≥–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è.
        \n–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≤—ã–π—Ç–∏ –∏–∑ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ç–µ–º—ã, –Ω–∞–ø–∏—à–∏ /restart, –∏–ª–∏ –≤—ã–±–µ—Ä–∏ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É –≤ {html.code('–ú–µ–Ω—é')}, –Ω–æ —É—á—Ç–∏, —á—Ç–æ —è –∑–∞–±—É–¥—É —Ç–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ –ø–æ–∫–∏–Ω—É—Ç–æ–π —Ç–µ–º–µ!\n–ö–æ–º–∞–Ω–¥–∞ /start –∑–∞–ø—É—Å—Ç–∏—Ç –º–µ–Ω—è —Å —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞, —Ç–∞–∫ —á—Ç–æ —Å–æ–≤–µ—Ç—É—é –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º —Å–µ—Å—Å–∏–∏ —á–µ—Ä–µ–∑ /restart.
        \n–ü–æ–≥–ª–∞–¥—å –º–µ–Ω—è, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏ —è –ø—É—â—É —Ç–µ–±—è –∫ –≤–æ–ø—Ä–æ—Å–∞–º...\n\n\nü•∫üëá
        """


def on_section_chosen(chosen_section: int) -> str:
    return f"üë©‚Äçüéì –†–∞–∑–¥–µ–ª {'I' * chosen_section}:"


def on_theme_chosen(title: str, questions_total: int) -> str:
    return f"""
        ‚ö∞Ô∏è –°—Ç–∞–≤–∫–∏ —Å–¥–µ–ª–∞–Ω—ã, —Å—Ç–∞–≤–æ–∫ –±–æ–ª—å—à–µ –Ω–µ—Ç... –∏–ª–∏ –µ—Å—Ç—å?
        \n–í—ã –≤—ã–±—Ä–∞–ª–∏ {html.italic(title)}.
        \n‚ùî –í–æ–ø—Ä–æ—Å–æ–≤ –≤ —ç—Ç–æ–π —Ç–µ–º–µ: {html.code(questions_total)}. 
        \n–ö–Ω–æ–ø–∫–∏ –≥–æ–≤–æ—Ä—è—Ç —Å–∞–º–∏ –∑–∞ —Å–µ–±—è. –£–¥–∞—á–∏.
        """


def on_quiz_end_fail(session: UserSession) -> str:
    return f"""
        –¢—ã —Å—Ç–∞—Ä–∞–ª—Å—è, –¥–µ—Ä–∂–∏ —á–æ–∫–æ–ª–∞–¥–∫—É üç´
        \n–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤: {html.code(str(session.questions_total - len(session.incorrect_questions)) + '/' + str(session.questions_total))}
        \n–Ø –∑–∞–ø–æ–º–Ω–∏–ª –≤–æ–ø—Ä–æ—Å—ã, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —Ç—ã –æ—à–∏–±—Å—è. –ï—Å–ª–∏ —Ö–æ—á–µ—à—å –ø–µ—Ä–µ—Ä–µ—à–∞—Ç—å –∏—Ö, –∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É - üß© - –≤–Ω–∏–∑—É ({html.italic('–≤–æ–ø—Ä–æ—Å—ã –±—É–¥—É—Ç —Å–ª–µ–¥–æ–≤–∞—Ç—å –≤ —Ç–æ–º –ø–æ—Ä—è–¥–∫–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∏ –≤—Å—Ç—Ä–µ—á–∞–ª–∏—Å—å —Ç–µ–±–µ –≤ —Ç–µ—Å—Ç–µ')}).
        \n–ï—Å–ª–∏ –∂–µ–ª–∞–µ—à—å –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≤—ã–±–æ—Ä—É —Ä–∞–∑–¥–µ–ª–∞ –∏ —Ç–µ–º—ã, –ø–∏—à–∏ /restart ‚ôªÔ∏è
        """


def on_quiz_end_success(session: UserSession) -> str:
    return f"""
        –ú–æ–∏ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è, –¥–µ—Ä–∂–∏ —Ü–µ–ª—ã—Ö –¥–≤–µ —á–æ–∫–æ–ª–∞–¥–∫–∏. –í–æ—Ç —Ç–µ–±–µ –ø–µ—Ä–≤–∞—è üç´ –∏ –≤—Ç–æ—Ä–∞—è üç´
        \n–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤: {html.code(str(session.questions_total - len(session.incorrect_questions)) + '/' + str(session.questions_total))}
        \n–¢—ã - –∂–∏–≤–∞—è –ª–µ–≥–µ–Ω–¥–∞. –ì–æ—Ä–∂—É—Å—å üèÖ
        \n–ï—Å–ª–∏ –∂–µ–ª–∞–µ—à—å –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≤—ã–±–æ—Ä—É —Ä–∞–∑–¥–µ–ª–∞ –∏ —Ç–µ–º—ã, –ø–∏—à–∏ /restart ‚ôªÔ∏è
        """
